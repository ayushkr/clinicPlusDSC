<div style="padding: 10px">
<center>
    <hr>
    Report - Income from Consultation
    <hr>
</center>

<!--doctor-->
<div class="inp_outer" style="min-width: 200px">
    <input id="doctor" name='doctor' type="hidden" data-link="doctor.id" value="1"> 
    <div class="inp1" 
         onclick="popup_selection_obj(
                                 {
                                     'entity_select': 'doctor',
                                     'input': 'doctor'
                                 }
                         )"
         >
        <div class="title1"> Doctor </div>

        <span id="doctor_display" class="inp2" >
            All
        </span>

    </div>
</div>

<div class="inp_outer" >
    <div class="inp1" 
         onclick="popup_selection_obj(
                                 {
                                     'value': getToday().full,
                                     'entity_select': 'dateForOrganisation',
                                     'input': 'dateFrom'
                                 }
                         )"
         >
        <div class="title1">Date From</div>

        <span id='dateFrom_display' class="inp2" >All</span>
        <input id="dateFrom" name='dateFrom' type="hidden" data-link="dateFrom"> 
    </div>
</div>

<div class="inp_outer" >
    <div class="inp1" 
         onclick="popup_selection_obj(
                                 {
                                     'value': getToday().full,
                                     'entity_select': 'dateForOrganisation',
                                     'input': 'dateTo'
                                 }
                         )"
         >
        <div class="title1">Date To</div>

        <span id='dateTo_display' class="inp2" >All</span>
        <input id="dateTo" name='dateTo' type="hidden" data-link="dateTo"> 
    </div>
</div>

<br>
<div id="widgets"  data-akr-printable="false">
    <input type="button" id="doctorId" value="Calculate" onclick="popul___()"  class="w3-button w3-green"> 

    <a onclick="printDiv_navOff('navbar')" data-toggle="tooltip" title="Print this page" class="w3-btn w3-blue"> <i class="fa fa-print"> </i>
    </a>

</div>

<br>
<div id="printableArea" title="report income by doctors">

    <div id="patientsByDoctor" style="padding: 10px">
        <!--alert area placeholder--> 
    </div>
</div>

</div>
<script>
//    /clinicPlus/module/reports/patientsByDoctor/menuTop.html
    document.getElementById("main1_paging").innerHTML = '';

    function popul___() {
        var id = document.getElementById('doctor').value;

        $.get("/clinicPlus/api/appointment/doctor/" +
                id + '?a=1' +
                '&dateFrom=' + document.getElementById('dateFrom').value +
                '&dateTo=' + document.getElementById('dateTo').value


                , function (result) {
                    aylinker({
                        // urlOfTemplate: "/clinicPlus/module/" +mn.module.current+ "/all/list/template1.html?ran=" + Math.random(),
                        urlOfTemplate: "/clinicPlus/module/reports/patientsByDoctor/listTemplate.html?ran=" + Math.random(),
                        selector: "patientsByDoctor",
                        data: {obj: result,
                            'doctor': $('#doctor_display').html()
                        }
                    }
                    );
                });


    }


</script>